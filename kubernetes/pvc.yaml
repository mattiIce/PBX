apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pbx-voicemail-pvc
  namespace: pbx-system
spec:
  accessModes:
    - ReadWriteMany  # Multiple pods can read/write - requires NFS or similar storage class
  resources:
    requests:
      storage: 10Gi
  # NOTE: The 'standard' storage class typically only supports ReadWriteOnce.
  # For ReadWriteMany, use a storage class that supports it (e.g., NFS, CephFS, GlusterFS).
  # Example: storageClassName: nfs-client
  # Or change accessModes to ReadWriteOnce if only one pod will mount the volume.
  storageClassName: standard
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pbx-recordings-pvc
  namespace: pbx-system
spec:
  accessModes:
    - ReadWriteMany  # Requires NFS or similar storage class
  resources:
    requests:
      storage: 50Gi
  # NOTE: Change to a ReadWriteMany-compatible storage class (e.g., nfs-client) or use ReadWriteOnce
  storageClassName: standard
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pbx-logs-pvc
  namespace: pbx-system
spec:
  accessModes:
    - ReadWriteMany  # Requires NFS or similar storage class
  resources:
    requests:
      storage: 5Gi
  # NOTE: Change to a ReadWriteMany-compatible storage class (e.g., nfs-client) or use ReadWriteOnce
  storageClassName: standard
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: pbx-postgresql-pvc
  namespace: pbx-system
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 20Gi
  storageClassName: standard
